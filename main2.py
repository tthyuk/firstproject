import streamlit as st
import folium
from streamlit_folium import st_folium

# 스페인 중심부 위도, 경도
SPAIN_COORDINATES = [40.416775, -3.703790]

# 주요 관광지 정보
attractions = [
    {
        "name": "사그라다 파밀리아 성당 (바르셀로나)",
        "coords": [41.4036, 2.1744],
        "info": """
        <b>가우디 최후의 걸작, 미완의 대성당</b><br><br>
        바르셀로나의 상징이자 안토니오 가우디의 가장 위대한 작품으로, 1882년 착공 이후 아직도 건설이 진행 중입니다. 옥수수 모양의 첨탑, 스테인드글라스로 쏟아지는 빛의 향연은 경이로움 그 자체입니다. 가우디의 독창적인 건축 철학과 자연에 대한 깊은 이해를 엿볼 수 있는 곳으로, 바르셀로나 여행의 필수 코스입니다.<br><br>
        <i>- 팁: 온라인으로 미리 티켓을 예매하면 긴 줄을 피할 수 있습니다.</i>
        """
    },
    {
        "name": "구엘 공원 (바르셀로나)",
        "coords": [41.4145, 2.1527],
        "info": """
        <b>동화 속 나라를 닮은 가우디의 공원</b><br><br>
        형형색색의 모자이크 타일로 장식된 벤치, 도마뱀 조각상, 독특한 모양의 건물들이 어우러진 환상적인 공원입니다. 원래는 전원주택단지로 계획되었으나, 현재는 바르셀로나 시민들과 여행객들의 사랑을 받는 쉼터가 되었습니다. 공원 언덕에서는 바르셀로나 시내의 아름다운 전경을 한눈에 담을 수 있습니다.<br><br>
        <i>- 팁: 구엘 공원의 유료 구역은 시간대별 입장 인원이 제한되므로, 방문 전 예약을 권장합니다.</i>
        """
    },
    {
        "name": "프라도 미술관 (마드리드)",
        "coords": [40.4138, -3.6921],
        "info": """
        <b>스페인 회화의 심장, 세계 3대 미술관</b><br><br>
        디에고 벨라스케스, 프란시스코 고야, 엘 그레코 등 스페인 3대 거장의 작품을 비롯하여 유럽 전역의 수많은 걸작을 소장하고 있습니다. 특히 벨라스케스의 '시녀들(Las Meninas)'은 반드시 봐야 할 작품으로 꼽힙니다. 방대한 컬렉션을 자랑하므로, 미리 관심 있는 작품을 정해두고 동선을 짜는 것이 효율적입니다.<br><br>
        <i>- 팁: 매일 저녁 특정 시간에는 무료입장이 가능하니, 홈페이지에서 시간을 확인해 보세요.</i>
        """
    },
    {
        "name": "마드리드 왕궁",
        "coords": [40.4179, -3.7141],
        "info": """
        <b>바로크 양식의 화려함, 스페인 왕실의 공식 관저</b><br><br>
        약 3,400여 개의 방을 갖춘 유럽에서 가장 큰 왕궁 중 하나입니다. 현재는 국왕이 거주하지 않고 공식적인 국가 행사에만 사용되며, 내부는 박물관으로 일반에 공개됩니다. 화려한 샹들리에, 프레스코화, 왕실의 소장품들은 스페인의 황금기를 짐작하게 합니다.<br><br>
        <i>- 팁: 왕궁 근위병 교대식은 특별한 볼거리이므로, 시간을 맞춰 방문하는 것을 추천합니다.</i>
        """
    },
    {
        "name": "세비야 대성당",
        "coords": [37.3858, -5.9930],
        "info": """
        <b>세계에서 세 번째로 큰 성당, 콜럼버스의 무덤</b><br><br>
        "이렇게 큰 성당을 지어 후세 사람들이 우리를 미쳤다고 생각하게 하라"는 말과 함께 지어진 거대한 고딕 양식의 성당입니다. 이슬람 사원의 첨탑(미나렛)을 개조하여 만든 히랄다 탑에 오르면 세비야의 아름다운 시가지를 조망할 수 있으며, 성당 내부에는 크리스토퍼 콜럼버스의 유해가 안치된 묘가 있습니다.<br><br>
        <i>- 팁: 히랄다 탑은 계단 대신 경사로로 되어 있어 오르기 수월합니다.</i>
        """
    },
    {
        "name": "세비야 알카사르",
        "coords": [37.3831, -5.9916],
        "info": """
        <b>이슬람과 기독교 문화의 조화, 무데하르 양식의 정수</b><br><br>
        이슬람 지배 시절의 요새를 기독교 왕들이 증축하여 만든 궁전으로, 이슬람의 정교한 타일 장식과 기독교의 건축 양식이 어우러진 무데하르 양식의 아름다움을 만끽할 수 있습니다. HBO의 인기 드라마 '왕좌의 게임'의 촬영지로도 유명하며, 아름다운 정원은 방문객들에게 평화로운 휴식을 선사합니다.<br><br>
        <i>- 팁: 세비야 대성당과 함께 통합권을 구매하면 편리하게 관람할 수 있습니다.</i>
        """
    },
    {
        "name": "알함브라 궁전 (그라나다)",
        "coords": [37.1773, -3.5901],
        "info": """
        <b>이슬람 예술의 결정체, '붉은 성'의 신비</b><br><br>
        '붉은 성'이라는 뜻의 알함브라는 이슬람 나스르 왕조의 마지막 거점으로, 이슬람 건축의 최고 걸작으로 꼽힙니다. 정교한 아라베스크 문양, 아름다운 분수와 정원이 조화를 이루는 나스르 궁전은 감탄을 자아냅니다. 헤네랄리페 여름 별궁의 아름다운 정원도 놓치지 마세요.<br><br>
        <i>- 팁: 나스르 궁전은 시간대별 입장 인원이 엄격하게 제한되므로, 최소 몇 주 전에는 온라인으로 예약해야 합니다.</i>
        """
    }
]

# 지도 생성
m = folium.Map(location=SPAIN_COORDINATES, zoom_start=6)

# 마커 추가
for attraction in attractions:
    folium.Marker(
        location=attraction["coords"],
        popup=folium.Popup(attraction["info"], max_width=300),
        tooltip=attraction["name"],
        icon=folium.Icon(color='red', icon='info-sign')
    ).add_to(m)

# Streamlit에 지도 표시
st.set_page_config(layout="wide")
st.title("🇪🇸 스페인 주요 관광지 친절 가이드 🇪🇸")
st.markdown("""
스페인의 아름다운 주요 관광지들을 소개합니다. 아래 지도에서 원하는 장소를 클릭하여 자세한 정보를 확인해 보세요!
""")

st_folium(m, width=1200, height=800)

st.markdown("""
---
### **주요 도시별 추천 관광지 상세 정보**
""")

# 바르셀로나
st.header("🎨 예술과 건축의 도시, 바르셀로나")
st.image("https://images.unsplash.com/photo-1523531294919-467a62a94eda?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", caption="사그라다 파밀리아 성당의 내부")
st.markdown("""
- **사그라다 파밀리아 성당:** 가우디의 혼이 담긴 미완의 걸작입니다. 자연을 모티브로 한 내부 기둥과 빛이 쏟아지는 스테인드글라스는 방문객에게 깊은 감동을 선사합니다.
- **구엘 공원:** 동화 속에 들어온 듯한 착각을 불러일으키는 곳입니다. 다채로운 색감의 타일과 곡선이 만들어내는 아름다움을 느껴보세요.
- **카사 바트요 & 카사 밀라:** 가우디의 상상력이 돋보이는 독특한 형태의 주택 건축물입니다. 직선을 거부한 가우디의 건축 세계를 엿볼 수 있습니다.
- **고딕 지구:** 좁은 골목길 사이로 중세 시대의 숨결이 느껴지는 곳입니다. 바르셀로나 대성당을 중심으로 미로 같은 길을 산책하며 과거로의 시간 여행을 떠나보세요.
""")

# 마드리드
st.header("🏛️ 스페인의 심장, 활기찬 수도 마드리드")
st.image("https://images.unsplash.com/photo-1594393436444-12783457d598?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", caption="마드리드 왕궁의 위용")
st.markdown("""
- **프라도 미술관:** 벨라스케스, 고야 등 스페인 거장들의 작품을 만날 수 있는 세계적인 미술관입니다.
- **마드리드 왕궁:** 유럽 바로크 양식의 화려함을 자랑하는 스페인 왕실의 공식 관저입니다.
- **레이나 소피아 국립 미술관:** 피카소의 '게르니카'가 소장된 곳으로, 현대 미술의 흐름을 파악할 수 있습니다.
- **산 미구엘 시장:** 신선한 타파스와 스페인 각지의 음식을 맛볼 수 있는 활기 넘치는 미식의 공간입니다.
""")

# 세비야
st.header("💃 정열과 낭만의 도시, 세비야")
st.image("https://images.unsplash.com/photo-1563722778846-9931057c721c?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", caption="세비야 스페인 광장의 야경")
st.markdown("""
- **세비야 대성당 & 히랄다 탑:** 세계에서 세 번째로 큰 성당의 웅장함과 히랄다 탑에서 바라보는 세비야의 전경은 잊을 수 없는 경험을 선사합니다.
- **알카사르:** 이슬람과 기독교 문화가 어우러진 무데하르 양식의 아름다운 궁전입니다.
- **스페인 광장:** 반달 모양의 광장으로, 스페인에서 가장 아름다운 광장 중 하나로 꼽힙니다. 뱃놀이를 즐기며 낭만적인 시간을 보낼 수 있습니다.
- **플라멩코 공연:** 세비야는 플라멩코의 본고장입니다. 열정적인 집시의 춤과 노래를 감상하며 스페인의 영혼을 느껴보세요.
""")

# 그라나다
st.header("🕌 이슬람 문화의 향기가 깃든, 그라나다")
st.image("https://images.unsplash.com/photo-1587888764834-3a55f356b431?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", caption="알함브라 궁전의 나스르 궁")
st.markdown("""
- **알함브라 궁전:** 이슬람 예술의 정수를 보여주는 '붉은 성'입니다. 나스르 궁전의 정교한 장식과 헤네랄리페의 아름다운 정원은 감탄을 자아냅니다.
- **알바이신 지구:** 언덕에 자리한 하얀 집들이 미로처럼 얽혀 있는 이슬람풍의 옛 지구입니다.
- **산 니콜라스 전망대:** 알함브라 궁전과 시에라네바다 산맥이 어우러진 환상적인 일몰을 감상할 수 있는 최고의 장소입니다.
""")
